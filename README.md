# UmiJS ç®¡ç†ç³»ç»Ÿæ¨¡æ¿

ä¸€ä¸ªåŸºäº [UmiJS 4](https://umijs.org/) æ„å»ºçš„ç°ä»£åŒ– React ç®¡ç†ç³»ç»Ÿæ¨¡æ¿ï¼Œé›†æˆäº† Ant Designã€TypeScriptã€Tailwind CSS ç­‰ä¸»æµæŠ€æœ¯æ ˆï¼Œæä¾›å®Œæ•´çš„æƒé™ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€èœå•ç®¡ç†ç­‰ä¼ä¸šçº§åŠŸèƒ½ã€‚

## âœ¨ ç‰¹æ€§

- ğŸš€ **åŸºäº UmiJS 4** - ä½¿ç”¨æœ€æ–°çš„ UmiJS æ¡†æ¶ï¼Œæ”¯æŒå¾®å‰ç«¯ã€æ’ä»¶åŒ–å¼€å‘
- ğŸ¨ **Ant Design 5** - é›†æˆ Ant Design Pro Componentsï¼Œæä¾›ä¸°å¯Œçš„ä¼ä¸šçº§ç»„ä»¶
- ğŸ” **æƒé™ç®¡ç†** - å®Œæ•´çš„ RBAC æƒé™æ§åˆ¶ç³»ç»Ÿï¼Œæ”¯æŒè§’è‰²ã€èœå•ã€ç”¨æˆ·ç®¡ç†
- ğŸ“± **å“åº”å¼è®¾è®¡** - æ”¯æŒå¤šç«¯é€‚é…ï¼Œç§»åŠ¨ç«¯å‹å¥½
- ğŸ¯ **TypeScript** - å®Œæ•´çš„ TypeScript æ”¯æŒï¼Œç±»å‹å®‰å…¨
- ğŸ¨ **Tailwind CSS** - ç°ä»£åŒ–çš„ CSS æ¡†æ¶ï¼Œå¿«é€Ÿæ„å»ºç¾è§‚ç•Œé¢
- ğŸ”§ **å¼€å‘ä½“éªŒ** - ESLint + Prettier + Huskyï¼Œä»£ç è´¨é‡ä¿éšœ
- ğŸ“Š **æ•°æ®å¯è§†åŒ–** - é›†æˆ EChartsï¼Œæ”¯æŒå›¾è¡¨å±•ç¤º
- ğŸŒ **å›½é™…åŒ–æ”¯æŒ** - å†…ç½®å¤šè¯­è¨€æ”¯æŒ
- ğŸ“± **PWA æ”¯æŒ** - æ”¯æŒæ¸è¿›å¼ Web åº”ç”¨

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: UmiJS 4 + React 18
- **UI ç»„ä»¶**: Ant Design 5 + Ant Design Pro Components
- **æ ·å¼**: Tailwind CSS + Less
- **çŠ¶æ€ç®¡ç†**: Valtio
- **ç±»å‹æ£€æŸ¥**: TypeScript 5
- **æ„å»ºå·¥å…·**: UmiJS Max
- **åŒ…ç®¡ç†**: pnpm
- **ä»£ç è§„èŒƒ**: ESLint + Prettier + Husky
- **å›¾æ ‡**: IconPark React
- **å›¾è¡¨**: ECharts for React

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- pnpm >= 7

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
npx degit fnpng/umi-template project-name
cd project-name

# å®‰è£…ä¾èµ–
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æˆ–è€…ä½¿ç”¨ start å‘½ä»¤
pnpm start
```

å¼€å‘æœåŠ¡å™¨å°†åœ¨ [http://localhost:8000](http://localhost:8000) å¯åŠ¨

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# é¢„è§ˆæ„å»ºç»“æœ
pnpm preview
```

### ä»£ç æ ¼å¼åŒ–

```bash
# æ ¼å¼åŒ–ä»£ç 
pnpm format
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
umi-template/
â”œâ”€â”€ config/                 # UmiJS é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.ts         # ä¸»é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ proxy.ts          # ä»£ç†é…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # API æ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ auth/         # è®¤è¯ç›¸å…³æ¥å£
â”‚   â”‚   â”œâ”€â”€ userController.ts
â”‚   â”‚   â”œâ”€â”€ roleController.ts
â”‚   â”‚   â””â”€â”€ menuController.ts
â”‚   â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ActionsRender/    # æ“ä½œæ¸²æŸ“ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Permission/       # æƒé™æ§åˆ¶ç»„ä»¶
â”‚   â”‚   â””â”€â”€ CustomUpload/     # è‡ªå®šä¹‰ä¸Šä¼ ç»„ä»¶
â”‚   â”œâ”€â”€ layouts/          # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ home/         # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ login/        # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ system/       # ç³»ç»Ÿç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ user/     # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ role/     # è§’è‰²ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ menu/     # èœå•ç®¡ç†
â”‚   â”‚   â””â”€â”€ user-center/  # ç”¨æˆ·ä¸­å¿ƒ
â”‚   â”œâ”€â”€ routes/           # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ store/            # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ styles/           # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
â”œâ”€â”€ openapi.config.ts     # OpenAPI é…ç½®
â”œâ”€â”€ tailwind.config.js    # Tailwind CSS é…ç½®
â””â”€â”€ package.json
```

## ğŸ”§ é…ç½®è¯´æ˜

### UmiJS é…ç½®

ä¸»è¦é…ç½®ä½äº `config/config.ts`ï¼ŒåŒ…å«ï¼š

- Ant Design é…ç½®
- ä»£ç†è®¾ç½®
- å¸ƒå±€é…ç½®
- è·¯ç”±é…ç½®
- Tailwind CSS æ”¯æŒ

### ä»£ç†é…ç½®

å¼€å‘ç¯å¢ƒä»£ç†é…ç½®ä½äº `config/proxy.ts`ï¼Œæ”¯æŒ API æ¥å£ä»£ç†ã€‚

### Tailwind CSS

é¡¹ç›®é›†æˆäº† Tailwind CSSï¼Œé…ç½®æ–‡ä»¶ä½äº `tailwind.config.js`ã€‚

## ğŸš€ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/pages` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„é¡µé¢ç»„ä»¶
2. åœ¨ `src/routes` ä¸­æ·»åŠ è·¯ç”±é…ç½®
3. é…ç½®èœå•å’Œæƒé™ï¼ˆå¦‚éœ€è¦ï¼‰

### æ·»åŠ æ–° API

1. åœ¨ `src/api` ç›®å½•ä¸‹åˆ›å»ºæ¥å£å®šä¹‰
2. ä½¿ç”¨ UmiJS çš„ request æ’ä»¶è°ƒç”¨æ¥å£

### æƒé™æ§åˆ¶

é¡¹ç›®ä½¿ç”¨åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ç³»ç»Ÿï¼š

- åœ¨è·¯ç”±ä¸­é…ç½® `access` å±æ€§
- ä½¿ç”¨ `Permission` ç»„ä»¶æ§åˆ¶ç»„ä»¶æ¸²æŸ“
- æ”¯æŒèœå•çº§å’ŒæŒ‰é’®çº§æƒé™æ§åˆ¶

## ğŸ’» é¡µé¢åŠŸèƒ½

### ç³»ç»Ÿç®¡ç†

- **ç”¨æˆ·ç®¡ç†**: ç”¨æˆ·å¢åˆ æ”¹æŸ¥ã€è§’è‰²åˆ†é…
- **è§’è‰²ç®¡ç†**: è§’è‰²æƒé™é…ç½®ã€èœå•åˆ†é…
- **èœå•ç®¡ç†**: åŠ¨æ€èœå•é…ç½®ã€æƒé™æ§åˆ¶

### ç”¨æˆ·ä¸­å¿ƒ

- ä¸ªäººä¿¡æ¯æŸ¥çœ‹å’Œç¼–è¾‘
- å¯†ç ä¿®æ”¹
- ä¸ªäººè®¾ç½®

### é¦–é¡µ

- æ•°æ®æ¦‚è§ˆ
- å¿«æ·æ“ä½œ
- ç³»ç»ŸçŠ¶æ€

## ğŸ” å¼€å‘å·¥å…·é…ç½®

### VS Code æ¨èé…ç½®

1. å®‰è£… ESLint å’Œ Prettier æ‰©å±•
2. å¯ç”¨ `formatOnSave` åŠŸèƒ½
3. ç¡®ä¿æ‰€æœ‰ä¾èµ–å·²å®‰è£…
4. æ£€æŸ¥å³ä¸‹è§’æ˜¯å¦æ˜¾ç¤º ESLint å’Œ Prettier çŠ¶æ€

### ä»£ç è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ ESLint + Prettier è¿›è¡Œä»£ç è§„èŒƒæ§åˆ¶ï¼š

- ESLint: ä»£ç è´¨é‡æ£€æŸ¥
- Prettier: ä»£ç æ ¼å¼åŒ–
- Husky: Git hooks ç®¡ç†
- lint-staged: æš‚å­˜æ–‡ä»¶æ£€æŸ¥

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªç®¡ç†ç³»ç»Ÿæ¨¡æ¿ï¼Œè¯·æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚è¿›è¡Œå®šåˆ¶å’Œæ‰©å±•ã€‚
